
<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta http-equiv="content-language" content="EN"/>
<title>Bad%20Boys%204%20Ride%20or%20Die.mp4</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

<meta name="referrer" content="origin-when-cross-origin">
<meta name="og:title" content="Bad%20Boys%204%20Ride%20or%20Die.mp4">
<meta name="og:type" content="video.movie">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Bad%20Boys%204%20Ride%20or%20Die.mp4">
<script>

        function showMessage(title, message) {
             $('playerbase').hide();

            document.write('<html lang="en"><link type="text/css" rel="stylesheet" id="dark-mode-custom-link"><link type="text/css" rel="stylesheet" id="dark-mode-general-link"><style lang="en" type="text/css" id="dark-mode-custom-style"></style><style lang="en" type="text/css" id="dark-mode-native-style"></style><head><meta charset="utf-8"><title>Warning</title><style>body,html{width:100%;height:100%;margin:0;padding:0;background-color:#151515;overflow:hidden}body{text-align:center;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;color:#fff}#horizon{display:table;height:100%;position:static;width:100%}#sun{display:table-cell;vertical-align:middle;position:static;margin:0 auto}a,h1,p{margin:0 auto;max-width:80%}h1,p{display:block}h1{font-size:48px;margin-bottom:5px}p{font-size:24px;max-width:475px}a{color:#4bf;text-decoration:none}a[role=button]{margin-top:15px;display:inline-block;color:#fff;font-weight:700;padding:10px 20px;border-radius:5px;background:#4bf;text-shadow:none;font-size:16px}a[role=button]:active{background:#3795cc}.smaller p{font-size:18px}.smaller h1{font-size:42px}@media (max-width:499px){p{font-size:16px;line-height:1.4;max-width:290px}a[role=button]{font-size:16px;padding:7px 15px}.smaller p{font-size:15px}.smaller a[role=button]{font-size:14px}.smaller h1{font-size:36px}}@media (max-width:300px){h1{font-size:36px}p{font-size:14px;line-height:1.4;max-width:250px}a[role=button]{margin-top:10px;font-size:14px}.smaller p{font-size:12px}.smaller a[role=button]{font-size:12px}.smaller h1{font-size:28px}}</style> </head><body><div id="horizon"><div id="sun"><h1>'+title+'</h1><p>'+message+'</p> </div></div></body></html>');
        }


 </script>
<!--<script src='https://content.jwplatform.com/libraries/hDZaZjnc.js'></script>
<script>jwplayer.key='ksaKvjlJRbnrPXSGpuPVqfscYS9+rZFhulEcXvUQMbyWAmIQyyjPjZAQPLw=';</script>   -->

<!--  <script src='https://ssl.p.jwpcdn.com/player/v/8.9.5/jwplayer.js'></script> -->


<script src='/assets/player/jwplayer-8.26.5/jwplayer.js'></script>
 <!--<script src='/assets/player/jw8.26.2.js'></script>  -->

 <!--<script src="/assets/player/provider.hlsjs.js"></script>
 <script>jwplayer.key='W7zSm81+mmIsg7F+fyHRKhF3ggLkTqtGMhvI92kbqf/ysE99';</script>
--><script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>

<link href="//maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
<!--<link href="netflix.css" rel="stylesheet">-->

<style type="text/css">
html,
body {
	height: 100%;
	width: 100%;
	padding: 0;
	margin: 0;
	background-color: black
}

#player,
#playerbase {
	position: fixed;
	width: 100%;
	height: 100%!important;
	left: 0;
	top: 0;
	z-index: 10
}

.jw-rightclick {
	display: none!important
}

.jw-display-icon-display {
	border-radius: 50%
}

.loader {
	position: absolute;
	top: 0;
	left: 0;
	z-index: 999996;
	width: 100%;
	height: 100%;
	background-color: rgba(0, 0, 0, .3)
}

.loader>.page-loader__spinner {
	position: absolute;
	float: left;
	left: 50%;
	top: 50%;
	height: 100px;
	width: 100px;
	background: url('/images/loading.svg');
	background-repeat: no-repeat;
	background-size: 100px 100px;
	transform: translate(-50%, -50%)
}

.rek {
	position: absolute;
	z-index: 999998;
	float: left;
	left: 50%;
	top: 50%;
	height: auto;
	width: auto;
	transform: translate(-50%, -50%);
	background-color: rgba(0, 0, 0, .3)
}

.rek_close {
	z-index: 999999;
	position: absolute;
	color: white;
	top: 12px;
	right: 3px;
	cursor: pointer;
	font-size: 20px;
	font-weight: 700;
	line-height: 0;
	-webkit-transition-duration: 0.4s;
	opacity: 1
}

.rek_counter {
	z-index: 999999;
	position: absolute;
	color: black;
	margin: auto;
	width: 100%;
	bottom: 8px;
	background-color: rgba(255, 255, 255, .5);
	font-family: tahoma;
	text-align: center;
	cursor: pointer;
	font-size: 14px;
	font-weight: 700;
	text-shadow: 1px 1px 1px white, 0 0 1em white, 0 0 .2em black
}

.blockout {
	position: absolute;
	top: 10px;
	right: 10px;
	z-index: 999996;
	width: 45px;
	height: 45px;
	background-color: rgba(0, 0, 0, 0.0);
}
    .buffer-percentage {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 12px;
        color: white;
        z-index: 2;
        text-shadow: 0px 0px 8px rgba(0, 0, 0, 0.7);
    }




.jw-text-track-display {
    top: 80% !important;
    bottom: 0px !important;
}

.cc-overlay {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 5 !important;
    display: none;
}

.cc-overlay--show-controls {
    bottom: 2.5rem;
}

.cc-overlay__inner {
    display: flex;
    width: 100%;
    height: 100%;
}

.slider {
    display: flex;
    align-items: center;
    justify-content: space-between;
    width: 100%;
}

.slider-value {
    min-width: 45px;
    margin-left: 10px;
    text-align: right;
}


.cc-settings__preview-header {
    margin: 16px;
    font-size: 1em;
    font-weight: normal;
}
/*
.cc-settings__preview {
    display: flex;
    align-items: center;
    justify-content: center;
    height: 80px;
    margin: 16px;
    background: url(/misc/subtitle-background.png);
}
*/

.cc-settings {
    width: 100%;
    height: 100%;
}

.cc-settings__modal {
    position: relative;
    display: flex;
    flex-direction: column;
    height: 99%;
    margin: 0;
    background: #2e2e2e;
    color: #e0e0e0;
    border: 1px solid #4b4b4b;
    z-index: 1;
}

.cc-settings__form {
    position: relative;
    max-height: calc(100% - 78px);
    overflow-y: auto;
    overflow-x: hidden;
}


@media (min-width: 1025px) {
    .cc-settings {
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .cc-settings__overlay {
        position: absolute;
        left: 0;
        right: 0;
        top: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.8);
        z-index: 10;
    }

    .cc-settings__modal {
        width: 1024px;
        max-height: 500px;
        margin-bottom: 32px;
        z-index: 11;
    }
}

.cc-settings__modal-header {
    display: flex;
    width: 100%;
    justify-content: space-between;
    background-color: #646464;
}

.cc-settings__title {
    margin: 0;
    padding: 10px;
    color: #fff;
    font-size: 14px;
    font-weight: normal;
    text-transform: uppercase;
}

@media (min-width: 600px) {
    .cc-settings__title {
        font-size: 16px;
    }
}

.cc-settings__close {
    padding: 10px;
    font-size: 10px;
    background-color: transparent;
    border: 0;
    cursor: pointer;
}

@media (min-width: 600px) {
    .cc-settings__close {
        font-size: 16px;
    }
}

.cc-settings__close img {
    width: 16px;
    height: 16px;
}

@media (min-width: 450px) {
    .cc-settings__form {
        padding: 0 32px;
    }
}

@media (min-width: 600px) {
    .cc-settings__form {
        max-height: calc(100% - 90px);
        padding: 0;
    }
}

.cc-settings__options {
    display: flex;
    flex-direction: column;
    justify-content: space-around;
    margin: 0 16px;
    border-top: 1px dashed #4b4b4b;
}

@media (min-width: 600px) {
    .cc-settings__options {
        flex-direction: row;
        flex-wrap: wrap;
    }
}

@media (min-width: 768px) {
    .cc-settings__options {
        flex-wrap: nowrap;
    }
}

.cc-settings__basic-styles {
    margin-bottom: 16px;
}

.cc-settings__colors {
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin-bottom: 16px;
}

@media (min-width: 600px) {
    .cc-settings__colors {
        display: flex;
        flex-direction: row;
        flex-wrap: nowrap;
        justify-content: space-between;
        width: 100%;
        order: -1;
    }

    .cc-settings__colors>.cc-settings__option {
        width: 200px;
        margin: 0;
    }
}

@media (min-width: 768px) {
    .cc-settings__colors {
        display: block;
        min-width: 400px;
        max-width: 400px;
        order: 0;
    }

    .cc-settings__colors>.cc-settings__option {
        width: auto;
        margin: 0 16px;
    }
}

.cc-settings__opacity {
    margin: 0 5px 16px 0;
}

@media (min-width: 600px) {

    .cc-settings__basic-styles,
    .cc-settings__opacity {
        width: 48%;
    }
}

.cc-settings__option {
    margin: 0 auto 20px auto;
}

@media (min-width: 600px) {
    .cc-settings__option {
        padding: 0 16px;
    }
}

.cc-settings__option p {
    margin-bottom: 10px;
}

.cc-settings__option select {
    display: block;
    width: 100%;
    height: 30px;
}

.cc-settings__option input[type="range"] {
    width: 100%;
    height: 30px;
    padding: 0;
}

.cc-settings__button-container {
    position: absolute;
    bottom: 0;
    right: 0;
    width: 100%;
    height: 50px;
    border-top: 1px dashed #4b4b4b;
    background: #2e2e2e;
}

.cc-settings__button {
    float: right;
    margin-left: 8px;
    padding: 10px 20px;
    border: 0;
    color: #fff;
    cursor: pointer;
    font-size: 14px;
    margin: 6px;
}

@media (min-width: 600px) {
    .cc-settings__button {
        margin-left: 16px;
        padding: 10px 30px;
        font-size: 16px;
    }
}

.cc-settings__reset-button {
    background-color: #86898e;
}

.cc-settings__save-button {
    background-color: #00aaeb;
}

.color-picker {
    display: grid;
    grid-template-columns: repeat(8, 1fr);
}

.color-picker__color {
    min-width: 25px;
    min-height: 25px;
    margin: 5px;
    border: 1px solid #fff;
    cursor: pointer;
}

.color-picker__color--active {
    outline: 3px solid #3eafe6;
}

@media (min-width: 600px) {
    .color-picker {
        grid-template-columns: repeat(4, 1fr);
        grid-template-rows: repeat(2, 1fr);
    }

    .color-picker__color {
        min-width: 30px;
        min-height: 30px;
    }
}

@media (min-width: 768px) {
    .color-picker {
        grid-template-columns: repeat(8, 1fr);
        grid-template-rows: none;
    }
}
/*
.jw-rightclick {
    display: none !important
}

.jw-settings-menu {
    width: 150px !important;
}*/

.jw-breakpoint-7 .jw-settings-menu,
.jw-breakpoint-6 .jw-settings-menu,
.jw-breakpoint-5 .jw-settings-menu,
.jw-breakpoint-4 .jw-settings-menu,
.jw-breakpoint-3 .jw-settings-menu {
    max-height: 220px !important;
    height: 220px !important;
}

.jw-settings-content-item {
    font-size: 15px
}

.jw-settings-content-item.jw-settings-item-active {
    color: #35c2ff
}

.jw-text-elapsed,
.jw-text-duration {
    font-size: 15px
}

.jw-slider-horizontal .jw-slider-container {
    height: 10px
}

</style>


<!-- for the new button -->
<style>
.modal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  overflow: auto;
  background-color: rgba(0, 0, 0, 0.5);
}

.modal-content {
  background-color: #fefefe;
  margin: 15% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
  color: #000;
  text-align: center;


}

.close-button {
  color: #aaa;
  float: right;
  font-size: 35px;
  font-weight: bold;
  cursor: pointer;
}
</style>







<style>
/* Audio tracks dropdown styling */
.top-audio-dropdown {
    position: absolute;
    top: 10px;
    left: 10px;
    z-index: 9999;
    background-color: rgba(0, 0, 0, 0.7);
    color: white;
    border: none;
    padding: 5px 10px;
    border-radius: 4px;
    cursor: pointer;
}

.top-audio-dropdown select {
    background-color: transparent;
    color: white;
    border: 1px solid #555;
    border-radius: 4px;
    padding: 3px;

    font-size: 17px;
    width: 100px;
    text-align: center;
}

.top-audio-dropdown select option {
    background-color: #333;
    color: white;
}

</style>



<!--<script
    disable-devtool-auto
    src='https://cdn.jsdelivr.net/npm/disable-devtool'
    clear-log='true'
    disable-select='true'
    disable-copy='true'
    disable-cut='true'
    disable-paste='true'
></script>
-->



<!-- Add this to your CSS styles section   ads image on the player  -->
<style>
.image-overlay {
    position: absolute;
    z-index: 100; /* Higher than the JWPlayer's z-index */
    display: none; /* Initially hidden - THIS IS CORRECT */
    pointer-events: none; /* Allow clicks to pass through to the player */
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    /* When shown by JavaScript, it will use these flex properties */
    justify-content: center;
    align-items: center;

        justify-content: flex-end;
}

/* When we want to show the overlay, we'll add this class via JavaScript */
.image-overlay.visible {
    display: flex;
}
.image-overlay img {
    max-width: 50%; /* Adjust as needed */
    max-height: 50%; /* Adjust as needed */
}



#imageOverlay {
  display: none;
  justify-content: center;
  align-items: center;
  /*background: rgba(0,0,0,0.5);*/
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 100%;
  z-index: 10000;
  color: white;
  font-size: 24px;
  pointer-events: none; /* Let clicks pass through if needed */
}



/* CSS for the Image Overlay */

/* Basic overlay styling */
.image-overlay {
    position: absolute !important;
    z-index: 10000 !important; /* Very high z-index to stay on top */
    display: none;
    pointer-events: none; /* Allow clicks to pass through to the player */
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    justify-content: center;
    align-items: center;
}

/* Style for the image within the overlay */
.image-overlay img {
    max-width: 50%;
    max-height: 50%;
}

/* Special styling for fullscreen mode */
.jwplayer.jw-flag-fullscreen .image-overlay,
.jwplayer.jw-stretch-full .image-overlay,
#fs-image-overlay {
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    z-index: 10000 !important;
}

/* Ensure proper positioning in fullscreen mode */
.jw-flag-fullscreen .image-overlay {
    position: fixed !important;
}

/* Add this to your HTML to include the overlay */
/*
<div id="imageOverlay" class="image-overlay">
    <img src="./images/capibara_2.png" alt="Overlay Image">
</div>
*/

/* Extra styling for the fullscreen container */
.jwplayer.jw-flag-fullscreen::after {
    content: "";
    position: absolute;
    z-index: 9999;
    pointer-events: none;
}

/* Style for the cloned overlay in fullscreen mode */
#fs-image-overlay {
    position: absolute !important;
    z-index: 10000 !important;
    display: flex;
    pointer-events: none;
    top: 0 !important;
    left: 0 !important;
    width: 100% !important;
    height: 100% !important;
    justify-content: center;
    align-items: center;
}

/* Make sure overlay is above JWPlayer controls */
.jwplayer .jw-controls {
    z-index: 9999 !important; /* Lower than our overlay */
}



</style>
<!-- end image on the player css-->



   <!-- Histats.com  START  (aync)-->
<script type="text/javascript">var _Hasync= _Hasync|| [];
_Hasync.push(['Histats.start', '1,4703744,4,0,0,0,00010000']);
_Hasync.push(['Histats.fasi', '1']);
_Hasync.push(['Histats.track_hits', '']);
(function() {
var hs = document.createElement('script'); hs.type = 'text/javascript'; hs.async = true;
hs.src = ('//s10.histats.com/js15_as.js');
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(hs);
})();</script>
<noscript><a href="/" target="_blank"><img  src="//sstatic1.histats.com/0.gif?4703744&101" alt="counter statistics" border="0"></a></noscript>
<!-- Histats.com  END  -->


</head>


<body>
<script src="https://code.jquery.com/jquery-3.4.1.js"></script>


<script src="https://cdnjs.cloudflare.com/ajax/libs/Counter-Up/1.0.0/jquery.counterup.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/waypoints/4.0.1/jquery.waypoints.js"></script>
<script src="https://cdn.jsdelivr.net/countupjs/1.8.5/countUp.min.js"></script>



<!-- <script src='/assets/player/jw8.26.2.js'></script>
  <script src="/assets/player/customhls.js"></script>

<script src="provider.hlsjs.js"></script>-->
<!--    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>  -->


<!-- ads image -->

<div class="image-overlay" id="imageOverlay">
    <img src="./images/capibara_2.png" alt="Overlay Image">
</div>

<!-- end  ads image -->


<div class="blockout" style="display:none;"></div>

<div class="loader" >
	<div class="page-loader__spinner" ></div>
</div>


<!--
 -->
<div id="playerbase" style="display:none;"></div>




<script>
    var correntEp = "0";


    $(document).ready(function () {
        var playersettings = {"language":"en","stretching":"","skin":{"name":"original"},"logo":{"image":"","position":""},"captions":{"fontSize":"","fontfamily":""},"vastexclude":"bollywatch.co,www.bollywatch.co","vast":{"type":["preroll","preroll"],"timingType":["seconds","seconds"],"timingValue":["",""],"link":["https:\/\/cvt-s2.agl002.online\/v\/_jMvM2I1MjE2YjQtYmVhNSWWYT_jL-I4ZjItN-NiYmZjZ-NlMjVi.xml?cp.host=364c502297334e52b1adaefd7e9d32a1|allmovieland.net&cp.domain=allmovieland.net","https:\/\/cvt-s2.agl002.online\/v\/_jMvNDc4ODAxO-UtZmIwYiWWMmQxLTg4ZTYtZjk2YTAzYjNkMTFk.xml?cp.host=364c502297334e52b1adaefd7e9d32a1|allmovieland.net&cp.domain=allmovieland.net"]}};
        var vast = {"type":["preroll","preroll"],"timingType":["seconds","seconds"],"timingValue":["",""],"link":["https:\/\/cvt-s2.agl002.online\/v\/_jMvM2I1MjE2YjQtYmVhNSWWYT_jL-I4ZjItN-NiYmZjZ-NlMjVi.xml?cp.host=364c502297334e52b1adaefd7e9d32a1|allmovieland.net&cp.domain=allmovieland.net","https:\/\/cvt-s2.agl002.online\/v\/_jMvNDc4ODAxO-UtZmIwYiWWMmQxLTg4ZTYtZjk2YTAzYjNkMTFk.xml?cp.host=364c502297334e52b1adaefd7e9d32a1|allmovieland.net&cp.domain=allmovieland.net"]};
        var video = {"id":"14043","uid":"3","slug":"E5J90X4U","title":"Bad%20Boys%204%20Ride%20or%20Die.mp4","folderid":null,"quality":"[\"720p\",\"480p\",\"240p\"]","sources":null,"type":"hls","userlinkhost":"local","poster":"\/poster\/SkNXdmJjalJoS1BpbmowZlVIbThqczdUMDVleDNuK2RnRkw5NXFEc0h2ZXFTMjZvZGNCQ01XUnlsQWFXclYwMQ%3D%3D.jpg","subtitles":null,"added":"2024-07-23 07:44:43","updatedtime":"2024-11-20 17:17:47","status":"1","errorcount":"0","progressbar":"100","progress":"all done.","views":"66388","md5":"999c6838f46b9a572fc823ee0590dd15"};
        var autoplay = new URLSearchParams(window.location.search).get('autoplay') === 'true';
        var alternativeStreamLink = `/alternative_stream/${video.uid}/${video.md5}/master.m3u8`;

        // Function to detect mobile devices
        function isMobileDevice() {
            return /Mobi|Android|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
        }

        var playerConfig = {
            playlist: [{
                sources: [{
                    file: `/m3u8/${video.uid}/${video.md5}/master.txt?s=1&id=${video.id}&cache=${video.status}`,
                    type: "hls",
                    preload: "auto"
                }],
                image: video.poster,
                tracks: [{"label":"","file":"https:\/\/watch.gxplayer.xyz\/m3u8\/3\/999c6838f46b9a572fc823ee0590dd15\/thumbnails.vtt","kind":"thumbnails"}]            }],
            playbackRateControls: [0.75, 1, 1.25, 1.5],
            controls: true,
            hlshtml: true,
            primary: "hlsjs",
            autostart: autoplay,
            width: "100%",
            aspectratio: "16:9",
            preload: "auto",
            captions: {
                color: "#FFF",
                fontSize: 14,
                backgroundOpacity: 0,
                edgeStyle: "raised"
            },
            hlsjsConfig: {
                "maxBufferSize": 0,
                "maxBufferLength": 180,
                "fragLoadingTimeOut": 60000,
                "fragLoadingMaxRetry": 600
            }
        };

        // Localization settings
        if (playersettings.language) {
            const localizationPath = '/assets/langs/localization-' + playersettings.language + '.json';
            fetch(localizationPath)
                .then(response => response.json())
                .then(localization => {
                    playerConfig.localization = localization;
                    proceedWithInitialization();
                })
                .catch(error => {
                    console.error('Error loading localization file:', error);
                    proceedWithInitialization();
                });
        } else {
            proceedWithInitialization();
        }

        // Proceed with player initialization based on device type
        function proceedWithInitialization() {
            var ads = true;
            if (playersettings.vastexclude) {
                var vastexclude = playersettings.vastexclude;
                const urlParams = new URLSearchParams(window.location.search);
                let ref = urlParams.get('ref');
                var refdom = document.referrer.split( '/' )[2];
                if (ref) {
                    if (vastexclude.includes(',')){
                        var str_array = vastexclude.split(',');
                        for(var i = 0; i < str_array.length; i++) {
                            str_array[i] = str_array[i].replace(/^\s*/, "").replace(/\s*$/, "");
                            if(ref == str_array[i]) {
                                ads = false;
                                break;
                            }
                        }
                    } else {
                        vastexclude = vastexclude.replace(/^\s*/, "").replace(/\s*$/, "");
                        if(ref == vastexclude) {
                            ads = false;
                        }
                    }
                } else {
                    if (vastexclude.includes(',')){
                        var str_array = vastexclude.split(',');
                        for(var i = 0; i < str_array.length; i++) {
                            str_array[i] = str_array[i].replace(/^\s*/, "").replace(/\s*$/, "");
                            if(refdom == str_array[i]) {
                                ads = false;
                                break;
                            }
                        }
                    } else {
                        vastexclude = vastexclude.replace(/^\s*/, "").replace(/\s*$/, "");
                        if(refdom == vastexclude) {
                            ads = false;
                        }
                    }
                }
            }

            if (vast && hasValidVastUrls(vast) && ads) {
                playerConfig.advertising = {
                    client: "vast",
                    schedule: buildVastSchedule(vast)
                };
            }

            if (playersettings.stretching) {
                playerConfig.stretching = playersettings.stretching;
            }

            if (playersettings.skin && playersettings.skin.name) {
                playerConfig.skin = playersettings.skin;
            }

            if (playersettings.logo && (playersettings.logo.image || playersettings.logo.position)) {
                playerConfig.logo = playersettings.logo;
            }

            if (playersettings.captions) {
                playerConfig.captions = Object.assign({}, playerConfig.captions, playersettings.captions);
            }

            if (playersettings.key) {
                playerConfig.key = playersettings.key;
            }

            if (playersettings.url) {
                playerConfig.url = playersettings.url;
            }
            // Check if the device is not a mobile device
            if (!isMobileDevice()) {
                // Dynamic loading of disable-devtool script
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/disable-devtool@latest';
                script.async = true;

                script.onload = function () {
                    console.log('disable-devtool library has been loaded successfully!');
                    initializePlayer(playerConfig);
                   //monitorDevTools();  // Start monitoring DevTools after player initialization
                };

                script.onerror = function () {
                    console.error('Failed to load disable-devtool library. Loading alternative stream.');
                   //playerConfig.playlist[0].sources[0].file = alternativeStreamLink;
                    initializePlayer(playerConfig);
                };

                // Append script tag to document
                document.head.appendChild(script);

                // Function to monitor for DevTools and act accordingly
                function monitorDevTools() {
                    const devtoolsCheckInterval = 500;  // Check every 500 milliseconds

                    setInterval(function () {
                        // Check if DevTools is open
                        if (window.devtools.isOpen) {
                            console.log('DevTools detected! Changing video source and clearing logs.');

                            // Change JW Player source to alternative stream
                            jwplayer().load([{
                                file: alternativeStreamLink,
                                type: "hls"
                            }]);

                            // Clear the console logs
                            console.clear();
                        }
                    }, devtoolsCheckInterval);
                }

                // Define the `window.devtools` object for monitoring DevTools state
                window.devtools = {
                    isOpen: false,
                    orientation: undefined
                };

                (function () {
                    const threshold = 160;
                    const devtools = window.devtools;

                    const emitEvent = (isOpen, orientation) => {
                        window.dispatchEvent(new CustomEvent('devtoolschange', {
                            detail: {
                                isOpen,
                                orientation
                            }
                        }));
                    };

                    const main = ({ emitEvents = true } = {}) => {
                        const widthThreshold = window.outerWidth - window.innerWidth > threshold;
                        const heightThreshold = window.outerHeight - window.innerHeight > threshold;
                        const orientation = widthThreshold ? 'vertical' : 'horizontal';

                        if (!(heightThreshold && widthThreshold) && ((window.Firebug && window.Firebug.chrome && window.Firebug.chrome.isInitialized) || widthThreshold || heightThreshold)) {
                            if ((!devtools.isOpen || devtools.orientation !== orientation)) {
                                devtools.isOpen = true;
                                devtools.orientation = orientation;
                                if (emitEvents) emitEvent(true, orientation);
                            }
                        } else {
                            if (devtools.isOpen) {
                                devtools.isOpen = false;
                                devtools.orientation = undefined;
                                if (emitEvents) emitEvent(false, undefined);
                            }
                        }
                    };

                    main({ emitEvents: false });
                    setInterval(main, 500);

                    if (typeof module !== 'undefined' && module.exports) {
                        module.exports = devtools;
                    } else {
                        window.devtools = devtools;
                    }
                })();
            } else {
                // On mobile devices, initialize the player directly
                initializePlayer(playerConfig);
            }
        }



// Open Modal Function
function openModal() {

  document.getElementById('customModal').style.display = 'block';
}




        // Initialize the JW Player
        function initializePlayer(config)
        {
            const player = jwplayer('playerbase').setup(config);

            // Handle next episode logic
            player.on('complete', function ()
            {
                loadNextVideo();
            });

















 // ===== START: Image Overlay Implementation =====

// Configuration for overlay appearances
const overlayConfig = {
    showCount: 5,        // Number of times overlay should appear (for appearance time calculations)
    duration: 30,        // Duration to show overlay each time (seconds)
    appearances: []      // Calculated appearance times in seconds
};

// State tracking variables
let overlayShownCount = 0;      // Number of times overlay shown (for logging)
let overlayVisible = false;     // Whether overlay is currently visible
let overlayRemainingTime = 0;   // Remaining time overlay should stay visible (ms)
let overlayShowTime = 0;        // Timestamp when overlay was shown (ms)
let appearanceTimesCalculated = false;  // Flag if appearance times are calculated

// DOM references
const imageOverlay = document.getElementById('imageOverlay');
const playerContainerSelector = '.jw-media'; // Player container selector (adjust if needed)
let hideOverlayTimeout = null;

// Helper: Format seconds as MM:SS
function formatTime(seconds) {
    const mins = Math.floor(seconds / 60);
    const secs = Math.floor(seconds % 60);
    return `${mins}:${secs.toString().padStart(2, '0')}`;
}

// Helper: Check if current time matches an appearance time within a threshold
function isAtAppearanceTime(currentTime) {
    return overlayConfig.appearances.some(time => Math.abs(currentTime - time) < 0.5);
}

// Show overlay and start hide timer
function showOverlay(reason = 'scheduled') {
    if (overlayVisible) return; // Prevent double show

    const currentPosition = player.getPosition();
    console.log(`OVERLAY LOG: Showing overlay #${overlayShownCount + 1} at ${currentPosition.toFixed(1)}s (${formatTime(currentPosition)}), reason: ${reason}`);

    imageOverlay.style.display = 'flex';
    overlayVisible = true;
    overlayShownCount++;

    overlayShowTime = Date.now();
    overlayRemainingTime = overlayConfig.duration * 1000;

    clearTimeout(hideOverlayTimeout);
    hideOverlayTimeout = setTimeout(() => hideOverlay('duration-complete'), overlayRemainingTime);

    updateOverlayPosition();
}

// Hide overlay and clear timer
function hideOverlay(reason = 'unspecified') {
    if (!overlayVisible) return;

    const currentPosition = player.getPosition();
    console.log(`OVERLAY LOG: Hiding overlay at ${currentPosition.toFixed(1)}s (${formatTime(currentPosition)}), reason: ${reason}`);

    imageOverlay.style.display = 'none';
    overlayVisible = false;
    clearTimeout(hideOverlayTimeout);
}

// Update overlay size and position to match player container (fullscreen compatible)
function updateOverlayPosition() {
    if (!overlayVisible) return;

    const playerContainer = document.querySelector(playerContainerSelector);
    if (playerContainer) {
        imageOverlay.style.width = '100%';
        imageOverlay.style.height = '100%';
        imageOverlay.style.top = '0';
        imageOverlay.style.left = '0';
        imageOverlay.style.position = 'absolute';
        imageOverlay.style.zIndex = '10000'; // Ensure overlay is on top
    }
}

// Pause overlay timer when video paused (don't hide overlay)
function pauseOverlayTimer() {
    if (overlayVisible) {
        clearTimeout(hideOverlayTimeout);
        const elapsed = Date.now() - overlayShowTime;
        overlayRemainingTime = Math.max(0, overlayConfig.duration * 1000 - elapsed);
        console.log(`OVERLAY LOG: Paused overlay timer with ${(overlayRemainingTime / 1000).toFixed(1)}s remaining`);
    }
}

// Resume overlay timer when video plays
function resumeOverlayTimer() {
    if (overlayVisible && overlayRemainingTime > 0) {
        console.log(`OVERLAY LOG: Resuming overlay timer with ${(overlayRemainingTime / 1000).toFixed(1)}s remaining`);

        overlayShowTime = Date.now();
        clearTimeout(hideOverlayTimeout);
        hideOverlayTimeout = setTimeout(() => hideOverlay('duration-complete-after-resume'), overlayRemainingTime);
    }
}

// Calculate appearance times based on video duration
function calculateAppearanceTimes() {
    if (appearanceTimesCalculated) return;

    const videoDuration = player.getDuration();
    if (videoDuration > 0 && isFinite(videoDuration)) {
        console.log(`OVERLAY LOG: Calculating appearance times. Video duration: ${videoDuration.toFixed(1)}s (${formatTime(videoDuration)})`);

        const interval = videoDuration / overlayConfig.showCount;
        overlayConfig.appearances = [];

        for (let i = 0; i < overlayConfig.showCount; i++) {
            // Start a bit after start to avoid zero
            const startOffset = Math.min(videoDuration * 0.02, 10);
            overlayConfig.appearances.push(startOffset + i * interval);
        }

        console.log('OVERLAY LOG: Overlay will appear at seconds:', overlayConfig.appearances.map(t => t.toFixed(1)).join(', '));
        console.log('OVERLAY LOG: Overlay will appear at times:', overlayConfig.appearances.map(formatTime).join(', '));

        appearanceTimesCalculated = true;
    }
}

// Initialize: Hide overlay and calculate appearance times when player ready
player.on('ready', () => {
    console.log('OVERLAY LOG: Player ready');
    $('.loader').remove();
    $('#playerbase').show();

    imageOverlay.style.display = 'none';
    calculateAppearanceTimes();
});

// Recalculate appearance times on metadata load and first frame
player.on('meta', calculateAppearanceTimes);
player.on('firstFrame', calculateAppearanceTimes);

// Monitor video time updates to show overlay at appearance times
player.on('time', (event) => {
    if (!appearanceTimesCalculated) {
        calculateAppearanceTimes();
        if (!appearanceTimesCalculated) return;
    }

    const currentTime = event.position;

    if (!overlayVisible && isAtAppearanceTime(currentTime)) {
        console.log(`OVERLAY LOG: Time match at ${currentTime.toFixed(1)}s (${formatTime(currentTime)}), showing overlay #${overlayShownCount + 1}`);
        showOverlay('time-match');
    }
});

// Pause/resume overlay timer on video pause/play events
player.on('pause', () => {
    const currentPos = player.getPosition();
    console.log(`OVERLAY LOG: Video paused at ${currentPos.toFixed(1)}s (${formatTime(currentPos)})`);

    if (overlayVisible) pauseOverlayTimer();
});

player.on('play', () => {
    const currentPos = player.getPosition();

    if (overlayVisible) {
        resumeOverlayTimer();
    } else if (appearanceTimesCalculated && isAtAppearanceTime(currentPos)) {
        console.log(`OVERLAY LOG: On play at ${currentPos.toFixed(1)}s (${formatTime(currentPos)}), showing overlay because we're at an appearance time`);
        showOverlay('play-at-appearance-time');
    }
});

// Hide overlay when video completes
player.on('complete', () => {
    console.log('OVERLAY LOG: Video complete, hiding overlay');
    hideOverlay('video-complete');
    // Keep overlayShownCount intact to continue counting overlays next time video plays
});

// Handle seeking: hide overlay immediately and show if new position matches appearance time
player.on('seek', (event) => {
    if (overlayVisible) {
        console.log(`OVERLAY LOG: User seeked from ${event.position.toFixed(1)}s (${formatTime(event.position)}) to ${event.offset.toFixed(1)}s (${formatTime(event.offset)}), hiding overlay`);
        hideOverlay('user-seek');
    }

    if (appearanceTimesCalculated) {
        setTimeout(() => {
            const newPos = player.getPosition();
            if (!overlayVisible && isAtAppearanceTime(newPos)) {
                console.log(`OVERLAY LOG: After seeking to ${newPos.toFixed(1)}s (${formatTime(newPos)}), showing overlay`);
                showOverlay('seek-to-appearance-time');
            }
        }, 100);
    }
});

// Show overlay if buffering happens at appearance time
player.on('buffer', () => {
    if (appearanceTimesCalculated) {
        setTimeout(() => {
            const currentPos = player.getPosition();
            if (!overlayVisible && isAtAppearanceTime(currentPos)) {
                console.log(`OVERLAY LOG: After buffering at ${currentPos.toFixed(1)}s (${formatTime(currentPos)}), showing overlay`);
                showOverlay('buffer-at-appearance-time');
            }
        }, 200);
    }
});

// Handle fullscreen changes to reposition overlay
player.on('fullscreen', (event) => {
    const isFullscreen = event.fullscreen;
    console.log(`OVERLAY LOG: Fullscreen changed: ${isFullscreen ? 'ON' : 'OFF'}`);

    setTimeout(() => {
        if (isFullscreen) {
            let fullscreenContainer = document.querySelector('.jwplayer.jw-flag-fullscreen') ||
                                      document.querySelector('.jwplayer.jw-stretch-full') ||
                                      document.querySelector('.jwplayer[style*="position: fixed"]');

            if (fullscreenContainer && overlayVisible) {
                try {
                    fullscreenContainer.appendChild(imageOverlay);
                    imageOverlay.style.position = 'absolute';
                    imageOverlay.style.zIndex = '10000';
                    imageOverlay.style.display = 'flex';
                    console.log('OVERLAY LOG: Moved overlay to fullscreen container');
                } catch (e) {
                    console.error('OVERLAY LOG: Error moving overlay to fullscreen container:', e);
                }
            }
        } else {
            // Move overlay back to normal player container on fullscreen exit
            const normalContainer = document.querySelector(playerContainerSelector);
            if (normalContainer && overlayVisible) {
                normalContainer.appendChild(imageOverlay);
                updateOverlayPosition();
                console.log('OVERLAY LOG: Moved overlay back to normal player container');
            }
        }
    }, 100);
});

// Optional: Adjust overlay on window resize
window.addEventListener('resize', () => {
    if (overlayVisible) {
        updateOverlayPosition();
    }
});

// ===== END: Image Overlay Implementation =====


























            function loadNextVideo() {
                window.parent.postMessage(correntEp, window.location.origin);
            }

            let hasFiredWatchEvent = false;
            const videoId = video.id;
            const watchedVideos = JSON.parse(localStorage.getItem('watchedVideos') || '{}');
            const today = new Date().toISOString().slice(0, 10);

            if (watchedVideos[videoId] === today) {
                hasFiredWatchEvent = true;
            }

            player.on('time', function(e) {
                const playTime = e.position;
                const duration = player.getDuration();
                const threshold = 10;

                if (!hasFiredWatchEvent && playTime > threshold) {
                    const urlParams = new URLSearchParams(window.location.search);
                    let ref = urlParams.get('ref');
                    let key = urlParams.get('d');

                    if (!ref) {
                        ref = 'direct';
                    }
                    if (!key) {
                        key = 'direct';
                    }

                    hasFiredWatchEvent = true;
                    watchedVideos[videoId] = today;
                    localStorage.setItem('watchedVideos' + videoId, JSON.stringify(watchedVideos));

                    correntEp = video.slug;
                    $.ajax({
                        url: '/ajax.php',
                        type: 'GET',
                        data: {
                            slug: video.slug,
                            videoId: videoId,
                            data: 'stat',
                            action: 'stat',
                            key: key,
                            ref: ref
                        },
                        success: function(response) {
                            console.log('Video watch event tracked successfully.');
                        },
                        error: function(error) {
                            console.error('Failed to track video watch event.', error);
                        }
                    });
                }
            });


            player.on("audioTracks", function() {
                audioTracks = player.getAudioTracks();
                console.log(audioTracks);
                if (audioTracks.length > 1) {
                    fetch('/assets/langs/localization-ru.json')
                        .then(response => response.json())
                        .then(localization => {
                            const audioTracksText = localization.audioTracks || 'Аудиодорожки';

                            /*  hide the audio button in the player
                            player.addButton("/assets/images/audio2.svg", audioTracksText, function() {
                                var ailea = $(".jw-controls").hasClass("jw-settings-open");
                                if (ailea) {
                                    $(".jw-settings-back").css("display", "none");
                                    $(".jw-settings-topbar").removeClass("jw-nested-menu-open");
                                    $(".jw-controls").removeClass("jw-settings-open");
                                    $(".jw-settings-menu").attr("aria-expanded", "false");
                                    $(".jw-submenu-audioTracks").attr("aria-expanded", "false");
                                    $(".jw-settings-submenu").each(function() {
                                        $(this).removeClass("jw-settings-submenu-active").attr("aria-expanded", "false");
                                    });
                                } else {
                                    $(".jw-controls").addClass("jw-settings-open");
                                    $(".jw-settings-menu").attr("aria-expanded", "true");
                                    $(".jw-submenu-audioTracks").attr("aria-expanded", "true");
                                    $(".jw-settings-submenu-audioTracks").addClass("jw-settings-submenu-active").attr("aria-expanded", "true");
                                }
                            }, "audioTracks");

                            */


                        })
                        .catch(error => {
                            console.error('Error fetching localization file:', error);
                        });
                    $(".jw-submenu-playbackRates, .jw-submenu-captions, .jw-submenu-quality, .jw-settings-submenu-button").on("click", function() {
                        $(".jw-submenu-audioTracks").attr("aria-expanded", "false");
                        $(".jw-settings-submenu-audioTracks").removeClass("jw-settings-submenu-active").attr("aria-expanded", "false");
                    });
                }
            });








             // Add these ad event listeners   ce code est utiliser pour intercepter la pub
    player.on('adImpression', function(event) {
        // This fires when an ad starts to play
        if (event.offset === 'pre') {
            // This is a preroll ad
            console.log('Preroll started');
            // Execute your function when preroll starts
            prerollStarted();
        } else {
        // C'est une publicité postroll (après la vidéo)
        console.log('Publicité postroll démarrée');
        prerollStarted();
    }
    });

    player.on('adComplete', function(event) {
        // This fires when an ad finishes playing
        console.log('Ad completed');
        // Execute your function when ad finishes
        // For preroll, you may want to check if this is the first ad that completed
        prerollFinished();
    });

    player.on('adSkipped', function(event) {
        // This fires when a user skips an ad
        console.log('Ad skipped');
        // You might want to handle skipped ads similarly to completed ads
        prerollFinished();
    });

    player.on('adError', function(event) {
        // This fires when there's an error loading an ad
        console.log('Ad error:', event);
        // You might want to handle ad errors as if the ad finished
        prerollFinished();
    });

    //fin de code




    //audio on top

player.on("audioTracks", function() {
    const audioTracks = player.getAudioTracks();
    console.log("Available audio tracks:", audioTracks);

    if (audioTracks.length > 1) {
        // Remove existing dropdown if it exists
        const existingDropdown = document.querySelector('.top-audio-dropdown');
        if (existingDropdown) existingDropdown.remove();

        // Create dropdown container
        const dropdownContainer = document.createElement('div');
        dropdownContainer.className = 'top-audio-dropdown';

        // Generate dropdown options
        let optionsHTML = '';
        audioTracks.forEach((track, index) => {
            // Get the best possible display name (priority: language name > track name > fallback)
            const languageName = getBestTrackName(track) || `Track ${index + 1}`;

            const currentTrack = player.getCurrentAudioTrack();
            optionsHTML += `
                <option value="${index}" ${index === currentTrack ? 'selected' : ''}>
                    ${languageName}
                </option>
            `;
        });

        dropdownContainer.innerHTML = `<select id="audioTrackDropdown">${optionsHTML}</select>`;
        document.getElementById('playerbase').appendChild(dropdownContainer);

        // Dropdown event handling
        document.getElementById('audioTrackDropdown').addEventListener('change', (e) => {
            player.setCurrentAudioTrack(parseInt(e.target.value));
        });

        // Update dropdown when track changes
        player.on('audioTrackChanged', (event) => {
            const dropdown = document.getElementById('audioTrackDropdown');
            if (dropdown) dropdown.value = event.currentTrack;
        });

        // Show/hide dropdown on user interaction
        const audioDropdown = document.querySelector('.top-audio-dropdown');
        player.on('userActive', () => {
            audioDropdown.style.display = 'block';
            console.log("Audio dropdown shown");
        });
        player.on('userInactive', () => {
            audioDropdown.style.display = 'none';
            console.log("Audio dropdown hidden");
        });

        // Settings menu behavior (jQuery)
        $(".jw-submenu-playbackRates, .jw-submenu-captions, .jw-submenu-quality, .jw-settings-submenu-button").on("click", function() {
            $(".jw-submenu-audioTracks").attr("aria-expanded", "false");
            $(".jw-settings-submenu-audioTracks").removeClass("jw-settings-submenu-active").attr("aria-expanded", "false");
        });
    }
});

/**
 * Gets the most user-friendly name for an audio track
 * Priority: Language name (from code) > Track name > Track label > Fallback
 */
function getBestTrackName(track) {
    // 1. Try to get language name from code (e.g., "hin" → "Hindi")
    if (track.language) {
        try {
            const languageName = new Intl.DisplayNames(['en'], { type: 'language' }).of(track.language);
            if (languageName) return languageName;
        } catch (e) {
            console.warn("Intl.DisplayNames failed, using fallback:", e);
        }
    }

    // 2. Fallback to track.name or track.label if they exist
    return track.name || track.label || null;
}

/**
 * Fallback language map (if Intl isn't available)
 * Only needed for very old browsers
 */
function getLegacyLanguageName(langCode) {
const languageMap = {
    // A
    'aar': 'Afar', 'abk': 'Abkhazian', 'ace': 'Achinese', 'ach': 'Acoli', 'ada': 'Adangme',
    'ady': 'Adyghe', 'afa': 'Afro-Asiatic', 'afh': 'Afrihili', 'afr': 'Afrikaans', 'ain': 'Ainu',
    'aka': 'Akan', 'akk': 'Akkadian', 'ale': 'Aleut', 'alg': 'Algonquian', 'alt': 'Southern Altai',
    'amh': 'Amharic', 'ang': 'Old English', 'anp': 'Angika', 'apa': 'Apache', 'ara': 'Arabic',
    'arc': 'Aramaic', 'arg': 'Aragonese', 'arn': 'Mapudungun', 'arp': 'Arapaho', 'art': 'Artificial',
    'arw': 'Arawak', 'asm': 'Assamese', 'ast': 'Asturian', 'ath': 'Athapascan', 'aus': 'Australian',
    'ava': 'Avaric', 'ave': 'Avestan', 'awa': 'Awadhi', 'aym': 'Aymara', 'aze': 'Azerbaijani',

    // B
    'bad': 'Banda', 'bai': 'Bamileke', 'bak': 'Bashkir', 'bal': 'Baluchi', 'bam': 'Bambara',
    'ban': 'Balinese', 'bas': 'Basa', 'bat': 'Baltic', 'bej': 'Beja', 'bel': 'Belarusian',
    'bem': 'Bemba', 'ben': 'Bengali', 'ber': 'Berber', 'bho': 'Bhojpuri', 'bih': 'Bihari',
    'bik': 'Bikol', 'bin': 'Bini', 'bis': 'Bislama', 'bla': 'Siksika', 'bnt': 'Bantu',
    'bod': 'Tibetan', 'bos': 'Bosnian', 'bra': 'Braj', 'bre': 'Breton', 'btk': 'Batak',
    'bua': 'Buriat', 'bug': 'Buginese', 'bul': 'Bulgarian', 'byn': 'Blin',

    // C
    'cad': 'Caddo', 'cai': 'Central American Indian', 'car': 'Carib', 'cat': 'Catalan',
    'cau': 'Caucasian', 'ceb': 'Cebuano', 'cel': 'Celtic', 'ces': 'Czech', 'cha': 'Chamorro',
    'chb': 'Chibcha', 'che': 'Chechen', 'chg': 'Chagatai', 'chk': 'Chuukese', 'chm': 'Mari',
    'chn': 'Chinook Jargon', 'cho': 'Choctaw', 'chp': 'Chipewyan', 'chr': 'Cherokee', 'chu': 'Old Church Slavonic',
    'chv': 'Chuvash', 'chy': 'Cheyenne', 'cmc': 'Chamic', 'cop': 'Coptic', 'cor': 'Cornish',
    'cos': 'Corsican', 'cpe': 'English-based Creole', 'cpf': 'French-based Creole', 'cpp': 'Portuguese-based Creole',
    'cre': 'Cree', 'crh': 'Crimean Tatar', 'csb': 'Kashubian', 'cus': 'Cushitic',

    // D
    'dan': 'Danish', 'dar': 'Dargwa', 'day': 'Dayak', 'del': 'Delaware', 'den': 'Slave',
    'deu': 'German', 'dgr': 'Dogrib', 'din': 'Dinka', 'div': 'Dhivehi', 'doi': 'Dogri',
    'dra': 'Dravidian', 'dsb': 'Lower Sorbian', 'dua': 'Duala', 'dum': 'Middle Dutch', 'dyu': 'Dyula',
    'dzo': 'Dzongkha',

    // E
    'efi': 'Efik', 'egy': 'Ancient Egyptian', 'eka': 'Ekajuk', 'ell': 'Greek', 'elx': 'Elamite',
    'eng': 'English', 'enm': 'Middle English', 'epo': 'Esperanto', 'est': 'Estonian', 'eus': 'Basque',
    'ewe': 'Ewe', 'ewo': 'Ewondo',

    // F
    'fan': 'Fang', 'fao': 'Faroese', 'fas': 'Persian', 'fat': 'Fanti', 'fij': 'Fijian',
    'fil': 'Filipino', 'fin': 'Finnish', 'fiu': 'Finno-Ugrian', 'fon': 'Fon', 'fra': 'French',
    'frm': 'Middle French', 'fro': 'Old French', 'frr': 'Northern Frisian', 'frs': 'Eastern Frisian',
    'fry': 'Western Frisian', 'ful': 'Fulah',

    // G
    'gaa': 'Ga', 'gay': 'Gayo', 'gba': 'Gbaya', 'gem': 'Germanic', 'gez': 'Geez',
    'gil': 'Gilbertese', 'gla': 'Scottish Gaelic', 'gle': 'Irish', 'glg': 'Galician', 'glv': 'Manx',
    'gmh': 'Middle High German', 'goh': 'Old High German', 'gon': 'Gondi', 'gor': 'Gorontalo',
    'got': 'Gothic', 'grb': 'Grebo', 'grc': 'Ancient Greek', 'grn': 'Guarani', 'gsw': 'Swiss German',
    'guj': 'Gujarati',

    // H
    'hai': 'Haida', 'hat': 'Haitian Creole', 'hau': 'Hausa', 'haw': 'Hawaiian', 'heb': 'Hebrew',
    'her': 'Herero', 'hil': 'Hiligaynon', 'him': 'Himachali', 'hin': 'Hindi', 'hit': 'Hittite',
    'hmn': 'Hmong', 'hmo': 'Hiri Motu', 'hrv': 'Croatian', 'hsb': 'Upper Sorbian', 'hun': 'Hungarian',
    'hup': 'Hupa', 'hye': 'Armenian',

    // I
    'iba': 'Iban', 'ibo': 'Igbo', 'ido': 'Ido', 'iii': 'Sichuan Yi', 'iku': 'Inuktitut',
    'ile': 'Interlingue', 'ilo': 'Iloko', 'ina': 'Interlingua', 'inc': 'Indic', 'ind': 'Indonesian',
    'ine': 'Indo-European', 'inh': 'Ingush', 'ipk': 'Inupiaq', 'ira': 'Iranian', 'iro': 'Iroquoian',
    'isl': 'Icelandic', 'ita': 'Italian',

    // J
    'jav': 'Javanese', 'jbo': 'Lojban', 'jpn': 'Japanese', 'jpr': 'Judeo-Persian', 'jrb': 'Judeo-Arabic',

    // K
    'kaa': 'Kara-Kalpak', 'kab': 'Kabyle', 'kac': 'Kachin', 'kal': 'Kalaallisut', 'kam': 'Kamba',
    'kan': 'Kannada', 'kar': 'Karen', 'kas': 'Kashmiri', 'kat': 'Georgian', 'kau': 'Kanuri',
    'kaw': 'Kawi', 'kaz': 'Kazakh', 'kbd': 'Kabardian', 'kha': 'Khasi', 'khi': 'Khoisan',
    'khm': 'Khmer', 'kho': 'Khotanese', 'kik': 'Kikuyu', 'kin': 'Kinyarwanda', 'kir': 'Kyrgyz',
    'kmb': 'Kimbundu', 'kok': 'Konkani', 'kom': 'Komi', 'kon': 'Kongo', 'kor': 'Korean',
    'kos': 'Kosraean', 'kpe': 'Kpelle', 'krc': 'Karachay-Balkar', 'krl': 'Karelian', 'kro': 'Kru',
    'kru': 'Kurukh', 'kua': 'Kuanyama', 'kum': 'Kumyk', 'kur': 'Kurdish', 'kut': 'Kutenai',

    // L
    'lad': 'Ladino', 'lah': 'Lahnda', 'lam': 'Lamba', 'lao': 'Lao', 'lat': 'Latin',
    'lav': 'Latvian', 'lez': 'Lezghian', 'lim': 'Limburgish', 'lin': 'Lingala', 'lit': 'Lithuanian',
    'lol': 'Mongo', 'loz': 'Lozi', 'ltz': 'Luxembourgish', 'lua': 'Luba-Lulua', 'lub': 'Luba-Katanga',
    'lug': 'Ganda', 'lui': 'Luiseno', 'lun': 'Lunda', 'luo': 'Luo', 'lus': 'Lushai',

    // M
    'mad': 'Madurese', 'mag': 'Magahi', 'mah': 'Marshallese', 'mai': 'Maithili', 'mak': 'Makasar',
    'mal': 'Malayalam', 'man': 'Mandingo', 'map': 'Austronesian', 'mar': 'Marathi', 'mas': 'Masai',
    'mdf': 'Moksha', 'mdr': 'Mandar', 'men': 'Mende', 'mga': 'Middle Irish', 'mic': 'Mi\'kmaq',
    'min': 'Minangkabau', 'mis': 'Uncoded', 'mkd': 'Macedonian', 'mkh': 'Mon-Khmer', 'mlg': 'Malagasy',
    'mlt': 'Maltese', 'mnc': 'Manchu', 'mni': 'Manipuri', 'mno': 'Manobo', 'moh': 'Mohawk',
    'mon': 'Mongolian', 'mos': 'Mossi', 'mri': 'Maori', 'msa': 'Malay', 'mul': 'Multiple',
    'mun': 'Munda', 'mus': 'Creek', 'mwl': 'Mirandese', 'mwr': 'Marwari', 'mya': 'Burmese',
    'myn': 'Mayan', 'myv': 'Erzya',

    // N
    'nah': 'Nahuatl', 'nai': 'North American Indian', 'nap': 'Neapolitan', 'nau': 'Nauru', 'nav': 'Navajo',
    'nbl': 'South Ndebele', 'nde': 'North Ndebele', 'ndo': 'Ndonga', 'nds': 'Low German', 'nep': 'Nepali',
    'new': 'Newari', 'nia': 'Nias', 'nic': 'Niger-Kordofanian', 'niu': 'Niuean', 'nld': 'Dutch',
    'nno': 'Norwegian Nynorsk', 'nob': 'Norwegian Bokmål', 'nog': 'Nogai', 'non': 'Old Norse', 'nor': 'Norwegian',
    'nqo': 'N\'Ko', 'nso': 'Northern Sotho', 'nub': 'Nubian', 'nwc': 'Classical Newari', 'nya': 'Chichewa',
    'nym': 'Nyamwezi', 'nyn': 'Nyankole', 'nyo': 'Nyoro', 'nzi': 'Nzima',

    // O
    'oci': 'Occitan', 'oji': 'Ojibwa', 'ori': 'Oriya', 'orm': 'Oromo', 'osa': 'Osage',
    'oss': 'Ossetian', 'ota': 'Ottoman Turkish', 'oto': 'Otomian', 'paa': 'Papuan', 'pag': 'Pangasinan',
    'pal': 'Pahlavi', 'pam': 'Pampanga', 'pan': 'Punjabi', 'pap': 'Papiamento', 'pau': 'Palauan',
    'peo': 'Old Persian', 'phi': 'Philippine', 'phn': 'Phoenician', 'pli': 'Pali', 'pol': 'Polish',
    'pon': 'Pohnpeian', 'por': 'Portuguese', 'pra': 'Prakrit', 'pro': 'Old Provençal', 'pus': 'Pashto',

    // Q
    'que': 'Quechua', 'raj': 'Rajasthani', 'rap': 'Rapanui', 'rar': 'Rarotongan', 'roh': 'Romansh',
    'rom': 'Romany', 'ron': 'Romanian', 'run': 'Rundi', 'rup': 'Aromanian', 'rus': 'Russian',

    // S
    'sad': 'Sandawe', 'sag': 'Sango', 'sah': 'Yakut', 'sai': 'South American Indian', 'sal': 'Salishan',
    'sam': 'Samaritan Aramaic', 'san': 'Sanskrit', 'sas': 'Sasak', 'sat': 'Santali', 'scn': 'Sicilian',
    'sco': 'Scots', 'sel': 'Selkup', 'sem': 'Semitic', 'sga': 'Old Irish', 'sgn': 'Sign Language',
    'shn': 'Shan', 'sid': 'Sidamo', 'sin': 'Sinhala', 'sio': 'Siouan', 'sit': 'Sino-Tibetan',
    'sla': 'Slavic', 'slk': 'Slovak', 'slv': 'Slovenian', 'sma': 'Southern Sami', 'sme': 'Northern Sami',
    'smi': 'Sami', 'smj': 'Lule Sami', 'smn': 'Inari Sami', 'smo': 'Samoan', 'sms': 'Skolt Sami',
    'sna': 'Shona', 'snd': 'Sindhi', 'snk': 'Soninke', 'sog': 'Sogdien', 'som': 'Somali',
    'son': 'Songhai', 'sot': 'Southern Sotho', 'spa': 'Spanish', 'sqi': 'Albanian', 'srd': 'Sardinian',
    'srn': 'Sranan Tongo', 'srp': 'Serbian', 'srr': 'Serer', 'ssa': 'Nilo-Saharan', 'ssw': 'Swati',
    'suk': 'Sukuma', 'sun': 'Sundanese', 'sus': 'Susu', 'sux': 'Sumerian', 'swa': 'Swahili',
    'swe': 'Swedish', 'syc': 'Classical Syriac', 'syr': 'Syriac',
    'tah': 'Tahitian', 'tai': 'Tai', 'tam': 'Tamil', 'tat': 'Tatar', 'tel': 'Telugu',
    'tem': 'Timne', 'ter': 'Tereno', 'tet': 'Tetum', 'tgk': 'Tajik', 'tgl': 'Tagalog',
    'tha': 'Thai', 'tig': 'Tigre', 'tir': 'Tigrinya', 'tiv': 'Tiv', 'tkl': 'Tokelau',
    'tlh': 'Klingon', 'tli': 'Tlingit', 'tmh': 'Tamashek', 'tog': 'Tonga (Nyasa)', 'ton': 'Tonga (Tonga Islands)',
    'tpi': 'Tok Pisin', 'tsi': 'Tsimshian', 'tsn': 'Tswana', 'tso': 'Tsonga', 'tuk': 'Turkmen',
    'tum': 'Tumbuka', 'tup': 'Tupi', 'tur': 'Turkish', 'tut': 'Altaic', 'tvl': 'Tuvalu',
    'twi': 'Twi', 'tyv': 'Tuvinian',
    'udm': 'Udmurt', 'uga': 'Ugaritic', 'uig': 'Uyghur', 'ukr': 'Ukrainian', 'umb': 'Umbundu',
    'und': 'Undefined', 'urd': 'Urdu', 'uzb': 'Uzbek',
    'vai': 'Vai', 'ven': 'Venda', 'vie': 'Vietnamese', 'vol': 'Volapük', 'vot': 'Votic',
    'wak': 'Wakashan', 'wal': 'Wolaytta', 'war': 'Waray', 'was': 'Washo', 'wln': 'Walloon',
    'wol': 'Wolof', 'xal': 'Kalmyk',
    'yao': 'Yao', 'yap': 'Yapese', 'yid': 'Yiddish', 'yor': 'Yoruba', 'ypk': 'Yupik',
    'zap': 'Zapotec', 'zbl': 'Blissymbols', 'zen': 'Zenaga', 'zgh': 'Standard Moroccan Tamazight',
    'zha': 'Zhuang', 'zho': 'Chinese', 'znd': 'Zande', 'zul': 'Zulu', 'zun': 'Zuni',
    'zza': 'Zaza'
};
    return languageMap[langCode] || null;
}



    //end audio in top



        }



        // Define your functions elsewhere
function prerollStarted() {
    // What you want to do when the preroll starts
    console.log('Executing preroll start function');

    parent.postMessage({ action: 'hideControls' }, '*');



}

function prerollFinished() {
    // What you want to do when the preroll finishes
    console.log('Executing preroll finish function');
    parent.postMessage({ action: 'showControls' }, '*');
}





        function hasValidVastUrls(vastSettings) {
            return vastSettings && vastSettings.link && vastSettings.link.some(url => url && url.trim() !== '');
        }

        function getQueryParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        function buildVastSchedule(vastSettings) {
            console.log("VAST Settings:", vastSettings);
            var schedule = {};
            if (!vastSettings || !vastSettings.type) {
                return schedule;
            }

            var dKey = getQueryParameter('d');  // Correct parameter

            vastSettings.type.forEach((type, index) => {
                console.log("Index:", index);  // Debugging output
                if (vastSettings.link[index] && vastSettings.link[index] !== '') {
                    var offset;
                    if (type === 'preroll') {
                        offset = 'pre';
                    } else if (type === 'postroll') {
                        offset = 'post';
                    } else {
                        // Only calculate timing for non preroll/postroll types
                        if (vastSettings.timingType && vastSettings.timingType[index] === 'percentage') {
                            offset = vastSettings.timingValue[index] + '%';
                        } else {
                            offset = vastSettings.timingValue[index];
                        }
                    }

                    var vastUrl = vastSettings.link[index] + (vastSettings.link[index].includes('?') ? '&' : '?') + 'cp.host=' + encodeURIComponent(dKey);

                    schedule['adbreak' + (index + 1)] = {
                        offset: offset,
                        skipoffset: "10",
                        tag: vastUrl
                    };
                }
            });
            return schedule;
        }
    });

</script>



<style>

    .jw-flag-small-player .jw-settings-menu {
    /* max-width: none; */
    width: 100% !important;
    height: 90% !important;
}


</style>



<div id="customModal" class="modal" style="display: none;">
  <div class="modal-content" style="display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 50vh; padding: 20px;
  background: rgba(255, 255, 255, 0.25);
border-radius: 16px;
box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
backdrop-filter: blur(15.4px);
-webkit-backdrop-filter: blur(15.4px);
border: 1px solid rgba(255, 255, 255, 0.2);

width: 50%;
">
    <span class="close-button" onclick="closeModal()" style="align-self: flex-end; cursor: pointer">&times;</span>
    <h2 style="text-align: center;">Video çalışmadı, lütfen düzeltmek için bildirin</h2>
    <form id="modalForm" onsubmit="handleFormSubmit(event)" style="width: 100%; max-width: 500px;">
      <textarea
        id="modalTextarea"
        name="feedback"
        rows="6"
        style="width: 100%; margin-bottom: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 16px; box-sizing: border-box;"
        placeholder="Sorunu buraya yazınız..."
        required
      ></textarea>

      <input type="hidden" name="videoId" value="E5J90X4U" />
      <button
        type="submit"
        style="width: 100%; padding: 15px; background-color: #f44336; color: white; border: none; border-radius: 5px; font-size: 18px; cursor: pointer;"
      >
        Gönder
      </button>
    </form>
  </div>
</div>


<style>
/* Modal Overlay */
.modal {
  position: fixed;
  z-index: 1000;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.7); /* Semi-transparent black background */
  display: flex;
  justify-content: center; /* Center horizontally */
  align-items: center; /* Center vertically */
}

/* Modal Content Box */
. {
  position: relative; /* Allow positioning inside */
  background-color: #fff;
  padding: 20px;
  border-radius: 10px;
  width: 90%;
  max-width: 500px; /* Maximum width */
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  text-align: center;
}

/* Modal Title */
.modal-content h2 {
  font-size: 20px;
  color: #FFF;
  margin-bottom: 20px;
}

/* Close Button */
.close-button {
  position: absolute;
  top: 15px;
  right: 15px;
  font-size: 35px;
  font-weight: bold;
  color: #FFF;
  cursor: pointer;
}

.close-button:hover {
  color: #f44336;
}

/* Textarea Styling */
textarea {
  resize: none;
}

/* Submit Button Styling */
button:hover {
  background-color: #d32f2f;
}
</style>









<script>





 function handleFormSubmit(event) {
  event.preventDefault(); // Prevent the default form submission behavior

  // Collect form data
  const feedback = document.getElementById('modalTextarea').value.trim();
  const videoId = document.querySelector('input[name="videoId"]').value;

  if (!feedback) {
    //alert('Lütfen bir sorun yazınız.');
    return;
  }

  // Fetch additional data from clientlnfo.php
  fetch('../clientInfo.php')
    .then(response => response.json())
    .then(clientInfo => {
      // Combine feedback, videoId, and clientInfo into a single JSON object
      const payload = {
        feedback: feedback,
        videoId: videoId,
        ...clientInfo // Spread operator to merge clientInfo fields
      };

      // Send the combined data to the server via AJAX
      return fetch('../save_feedback_reports.php', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify(payload)
      });
    })
    .then(response => {
      if (response.ok) {
        //alert('Geri bildiriminiz için teşekkür ederiz!');
        closeModal(); // Close the modal
      } else {
        alert('Geri bildiriminizi gönderirken bir sorun oluştu.');
      }
    })
    .catch(error => {
      console.error('Error:', error);
      alert('Geri bildiriminizi gönderirken bir hata oluştu.');
    });



    document.getElementById('modalTextarea').value = "";
}





    // Close Modal Function
function closeModal() {

  document.getElementById('customModal').style.display = 'none';
}



</script>

</body>
</html>